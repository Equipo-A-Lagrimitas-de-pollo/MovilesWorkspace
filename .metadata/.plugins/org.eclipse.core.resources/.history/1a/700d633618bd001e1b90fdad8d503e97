package com.moviles.filter;

public abstract class DecoratorFilter<ToFilter, Parameter>{
	
	protected Parameter parameter;
	protected DecoratorFilter<ToFilter,?> nextDecoratorFilter;
	
	public DecoratorFilter(DecoratorFilter<ToFilter,?> decoratorFilter, Parameter parameter) {
		this.nextDecoratorFilter=decoratorFilter;
		this.parameter=parameter;
	}
	
	public final ToFilter recursiveFilter(ToFilter toFilter) {
		ToFilter filtered = filter(toFilter);
		return callNext(filtered);
	}
	
	public abstract ToFilter filter(ToFilter toFilter);
	
	private ToFilter callNext(ToFilter filtered) {
		if(nextDecoratorFilter!=null) nextDecoratorFilter.recursiveFilter(filtered);
		return filtered;
	}

}
